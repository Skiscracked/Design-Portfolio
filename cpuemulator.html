<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

<!-- This source file contains information about projects -->
<html>
	<head>
		<title>Semilore Kayode - Projects</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
                <header id="header">
                    <p class="logo">Semilore Kayode</p>
                </header>

				<!-- Nav -->
				<nav id="nav">
					<ul class="links">
						<li><a href="index.html">Overview</a></li>
						<li><a href="https://skiscracked.github.io/Sk's Resume (CE) ~v1.pdf" target="_blank">Resume</a></li>
						<li><a href="aboutme.html">About me</a></li>
					</ul>
					<ul class="icons">
						<li><a href= "https://www.linkedin.com/in/semilore-kayode" class="icon brands alt fa-linkedin-in" target="_blank">
							<span class="label">LinkedIn</span></a></li>
						<li><a href="https://github.com/Skiscracked" class="icon brands fa-github" target="_blank">
							<span class="label">GitHub</span></a></li>
					</ul>
				</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1>CPU Emulator</h1>
								</header>

								<!-- Text stuff -->
									<h2>Overview</h2>
									<p>The XM23p is an extension of the original XM series processor, designed with a pipelined, Harvard architecture that separates instruction and data memory. 
                                        This project involved the design, implementation, and testing of an emulator for the XM23p, incorporating features such as memory loading, pipeline execution, 
                                        register operations, data memory access, control transfer, and conditional execution. Each feature was implemented progressively over five assignments, showcasing 
                                        my understanding of CPU architecture, low-level programming, and system testing.
									</p>
									
									<p>This emulator was implemented using the following 16-bit Instruction Set Architecture:</p>

									<div class="projectpics container">
									<img class="instruction-set" src="images/InstructionSet.png" alt="Instruction Set Architecture for XM23" />
									<p class="image captions">XM23p Instruction Set Architecture</p>
									</div>

									<hr />

									<!--Ideas following:
									- Go from assignment to assignment, include flowcharts for relevant assignments.
									- Include data dictionary for relevant assignments.
									- Try to communicate an idea of your thought processes.
									-->
									<h2>From Concept to Code</h2>
									<h3>Assignment 1: XM23p Loader and Memories</h3>
									<p>The first task was to implement a standalone loader to initialize and manage the two separate memories of the XM23p: a 64 KiB instruction memory (IMEM) and a 64 KiB data memory 
										(DMEM). This loader reads <strong>S-Records</strong> generated by the assembler from XM23 assembly programs and loads instructions into the IMEM and data into the DMEM.
									</p>
									
									<p style="margin-bottom: 10px;">Key aspects of this assignment:</p>
									<ul>
										<li><strong>Memory Registers</strong>: The loader used the <strong>Instruction Memory Address Register (IMAR)</strong>, <strong>Instruction Control Register (ICTRL)</strong>, and <strong>Instruction Memory Buffer Register (IMBR)</strong> 
											for IMEM management, and their counterparts (DMAR, DCTRL, DMBR) for DMEM.
										</li>
										<li>
											<strong>Loading and Displaying Memory</strong>: After loading the instructions and data, the program was able to display the contents of memory in both hexadecimal and ASCII formats, ensuring correctness during testing.
										</li>
									</ul>

									<p>The following are designs which aided my implementation of the software:</p>
									<div class="projectpics container">
									<img style="width: 500px; height: 250px;" src="images/Assignment1datadic.png" alt="Data dictionary for S-Record">
									<p class="image captions">Data dictionary for S-Record</p>
									<img class="assignment1-flow" src="images/Assignment1flow.png" alt="S-Record Design Flowchart">
									<p class="image captions">S-Record Design Flowchart</p>
									</div>

									<p>This assignment laid the groundwork for memory management, a critical component of the XM23p emulator​.</p>



									<h3 style="margin-top: 50px;">Assignment 2: Implementing the Pipeline and Register Operations</h3>
									<p>
										Next, the pipeline architecture of the XM23p was introduced, and I implemented a basic 3-stage pipeline (Fetch, Decode, Execute) for handling register-to-register operations. 
										The pipelining reduced the cycle time for non-memory instructions, improving performance from four to two clock cycles per instruction.
									</p>
									<p style="margin-bottom: 10px;">Key implementation details:</p>
									<ul>
										<li>
											<strong>Pipeline Stages</strong>: The Fetch stage was split into two sub-stages, while Decode and Execute were straightforward. 
											Instructions such as ADD, SUB, AND, OR, and XOR were supported.
										</li>
										<li>
											<strong>Register File</strong>: The emulator implemented a register file with a flexible, orthogonal instruction set that operated on any register, 
											including special registers like the Program Counter (PC).
										</li>
									</ul>
									<p>The following are designs which aided my implementation of the software:</p>
									<div class="projectpics container">
										<img style="width: 550px; height: 410px;" src="images/Assignment2datadic.png" alt="Data dictionary for Pipeline">
										<p class="image captions">Data dictionary for Pipeline</p>
										<img class="assignment1-flow" src="images/Assignment2flow.png" alt="Pipeline Design Flowchart">
										<p class="image captions">Pipeline Design Flowchart</p>
									</div>
									<p>This phase significantly optimized instruction throughput, providing a 
										foundation for future enhancements such as memory access and branching​.
									</p>
									


									<h3 style="margin-top: 50px;">Assignment 3: Data Memory Access</h3>
									<p>
										In this phase, I extended the emulator to handle <strong>load and store instructions</strong> (LD, LDR, ST, STR) that access the data memory (DMEM). 
										XM23p’s load-store architecture required careful management of the memory access pipeline.
									</p>
									<p style="margin-bottom: 10px;">Key features include:</p>
									<ul>
										<li>
											<strong>Two-step Memory Access</strong>: The execute stage was divided into two sub-stages (E0 and E1) to allow for address calculation and memory access. 
											Memory addresses were handled with pre- and post-increment/decrement modes for both word and byte accesses.
										</li>
										<li>
											<strong>Addressing Modes</strong>: The emulator supported both <strong>direct</strong> and <strong>indexed</strong> addressing, allowing efficient data movement 
											between registers and memory.
										</li>
									</ul>
									<p>The following are designs which aided my implementation of the software:</p>
									<div class="projectpics container">
										<img style="width: 550px; height: 500px;" src="images/Assignment3datadic.png" alt="Data dictionary for Pipeline">
										<p class="image captions">Data dictionary for Data Memory Access</p>
										<img class="assignment1-flow" src="images/Assignment3flow.jpg" alt="Pipeline Design Flowchart">
										<p class="image captions">Pipeline Design Flowchart</p>
									</div>
									<p>
										This assignment demonstrated the complexity of handling real-world memory interactions within a pipeline architecture​.
									</p>



									<h3 style="margin-top: 50px;">Assignment 4: Control Transfer (Branching)</h3>
									<p>
										With the core operations and memory access functioning, I implemented <strong>branching instructions</strong> to control program flow. 
										This included both unconditional and conditional branches, which are essential for loops, conditionals, and subroutine calls.
									</p>
									<p style="margin-bottom: 10px;">Key aspects of branching:</p>
									<ul>
										<li>
											<strong>Branch Instructions</strong>: Instructions such as <strong>BL (Branch with Link)</strong>, <strong>BEQ/BNE (Branch if equal/not equal)</strong>, <strong>BGE/BLT (Branch if greater/less)</strong> and were implemented. 
											The program counter was updated dynamically based on the instruction.
										</li>
										<li>
											<strong>Branch Offset Calculation</strong>: The branch instructions used a 10- or 13-bit offset, which was sign-extended and added to the PC, allowing both forward and backward branches in code.
										</li>
									</ul>
									<p>The following are designs which aided my implementation of the software:</p>
									<div class="projectpics container">
										<img style="width: 550px; height: 480px;" src="images/Assignment4datadic.png" alt="Data dictionary for Pipeline">
										<p class="image captions">Data dictionary for Branch Instructions</p>
										<img class="assignment1-flow" src="images/Assignment3flow.jpg" alt="Pipeline Design Flowchart">
										<p class="image captions">Pipeline Design Flowchart</p>
									</div>
									<p>
										This phase introduced control hazards, which were managed effectively to ensure correct execution of sequential and branching code​.
									</p>



									<h3 style="margin-top: 50px;">Assignment 5: Conditional Execution</h3>
									<p>
										The final phase focused on reducing the cost of branching by implementing <strong>conditional execution</strong>. 
										In many modern processors, conditional execution allows instructions to be selectively executed without the overhead of branching.
									</p>
									<p style="margin-bottom: 10px;">Key implementation details:</p>
									<ul>
										<li>
											<strong>CEX Instruction</strong>: The new <strong>CEX (Conditional Execution)</strong> instruction allowed up to eight instructions to be conditionally executed based on the <strong>Program Status Word (PSW)</strong>. 
											This allowed sequences of instructions to be executed or bubbled without explicit branching, improving performance.
										</li>
										<li>
											<strong>Efficient Conditional Logic</strong>: Conditional execution was tightly integrated with the pipeline, ensuring that only relevant instructions were executed, while others were fetched but bubbled if the condition was false.
										</li>
									</ul>
									<p>The following are designs which aided my implementation of the software:</p>
									<div class="projectpics container">
										<img style="width: 550px; height: 415px;" src="images/Assignment5datadic.png" alt="Data dictionary for CEX Instruction">
										<p class="image captions">Data dictionary for CEX Instruction</p>
										<img class="assignment1-flow" src="images/CompArchFlowChart.jpg" alt="Pipeline Design Flowchart">
										<p class="image captions">Pipeline Design Flowchart</p>
									</div>
									<p>
										This feature demonstrated advanced control flow mechanisms typically found in RISC processors, further improving the efficiency of the emulator​.
									</p>

									<hr />

									<h2>Conclusion</h2>
									<p>
										Through these five assignments, I developed a deep understanding of CPU architecture, especially the complexities of pipelining, memory management, and control flow. 
										The XM23p emulator showcases my ability to design and implement sophisticated hardware simulations in software, using low-level C programming and debugging tools. 
										This project highlights not only my technical skills but also my attention to detail and ability to optimize systems for performance.
									</p>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Untitled</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

	</body>
</html>